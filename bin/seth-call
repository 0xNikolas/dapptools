#!/bin/sh
### seth-call -- call a contract without updating the blockchain
### Usage: seth call <receiver> [-a <account>] [-b <block>] [-w <wei>]
### Ask your local EVM for the result of making a call to <receiver>.
###
### The simulated transaction's calldata is read from standard input.
### With `-b', perform the call against the chain state as of <block>.
### With `-w', simulate transferring <wei> to <receiver> with the call.

ETH_DATA="`seth data`" ETH_TO=$1 \
exec seth rpc eth_call -- `seth rpc-send-params` \
  -s "${ETH_BLOCK?}" -iappend
