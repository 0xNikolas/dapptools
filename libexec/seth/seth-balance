#!/usr/bin/env bash
### seth-balance -- show the balance of any account on the blockchain
### Usage: seth balance [-B <block>] <account>
### Print the balance of <account> in ETH.
###
### With `-B <block>', print the balance as of <block>.
set -e
[[ $1 ]] || seth --bad-usage "$0"
jshon+=(-s "$1" -iappend)
jshon+=(-s "${SETH_BLOCK-latest}" -iappend)
x=$(seth --jsonrpc eth_getBalance "${jshon[@]}")
seth --to-eth "$x"
