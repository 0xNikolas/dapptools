#!/usr/bin/env bash
param() if [[ ${!1} ]]; then
  if [[ ${!1} = *\ * ]]; then
    echo >&2 "${0##*/}: error: $1 contains whitespace"
    exit 1
  else
    if [[ $3 = --wei ]]; then
      value=`seth --to-wei "${!1}"`
    else
      value=${!1}
    fi
    echo -s $value -i $2
  fi
fi

param SETH_FROM       from
param SETH_GAS        gas
param SETH_GAS_PRICE  gasPrice  --wei
param SETH_VALUE      value     --wei
